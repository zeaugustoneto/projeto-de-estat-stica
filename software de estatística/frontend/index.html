<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table, th, td, tbody, tr {
            border: 1px solid black;
        }
    </style>

</head>
<body>
    <header>
        <a href="">Início</a>
        <a href=''>Sobre</a>
        <a href=''>Equipe</a>


    </header>    


    <label for="">Nome da variável</label>
    <input type="text" id="var-name"> <br><br>
    <label for="">Dados (separados por ";"):</label>
    <input type="text" id="dataInput">
    <input type="button" value="Adicionar" id="add-data"> 
    <p>
        <select id="type">
            <option value="quantitativa" id='quantitative'>Quantitativa</option>            
            <option value="qualitativa" id='qualitative'>Qualitativa</option>
        </select>
    </p>

<br>
<br>
    <div class="table">
        <table>
            <thead>
                <tr> 
                    <th id="headVar"></th>
                    <th>Frequência simples</th>
                    <th>Frequência simples %</th>  
                    <th>Frequência acumulada</th>
                    <th>Frequência acumulada %</th>
                </tr>
            </thead>

            <tbody id="col">

            </tbody>

        </table>
    </div>




    <script>
        document.querySelector('#add-data').addEventListener('click', function(){
        let typeOfData = document.getElementById('type')
        let varName = document.getElementById( 'var-name').value
        let input = document.getElementById('dataInput').value
  
        
        
        console.log(varName)
        console.log(input)





            if(typeOfData.value === "quantitativa"){
                quantitativeFunc(varName, input)
            } else {
                qualitativeFunc(varName,input)
            }

        

   
        }
        )
        let newArray

      
//testes 25;98;54;12;0;1;2;6;4;71;5;30;20;84;4    1;2;2;5;4;1;2;6;4;1;2


function quantitativeFunc(name, array){
    newArray = array.split(';').map(x => parseFloat(x))
    console.log(newArray)
    let sortArray = selectionSort(newArray)
    let freqArray = []
    console.log(sortArray)


    let x    
    for(let i = 0; i < sortArray.length; i= x){
        let freqCont = 1
        
        for( x = i+1 ; x < sortArray.length; x++){
            if(sortArray[i] == sortArray[x]){
                freqCont++ 


            } else{
                break
        }   }

        freqArray.push(freqCont)
        console.log(`Elemento = ${sortArray[i]}; frequencia = ${freqCont}`)
        
    }   


sortArray = sortArray.filter((este, i) => sortArray.indexOf(este) === i)
console.log(sortArray)
console.log(freqArray) 

writeTable(sortArray, freqArray)
//writeTable(freqArray)
}
    

   


let selectionSort = (arr) => {
    let len = arr.length;
    for (let i = 0; i < len; i++) {
        let min = i;
        for (let j = i + 1; j < len; j++) {
            if (arr[min] > arr[j]) {
                min = j;
            }
        }
        if (min !== i) {
            let tmp = arr[i];
            arr[i] = arr[min];
            arr[min] = tmp;
        }
    }
    return arr;
}





    function writeTable(element, freq){
        let linha = document.createElement('tr');
        document.getElementById('col').appendChild(linha)

        let celula = document.createElement('tr');
        let celula2 = document.createElement('tr');
        let celula3 = document.createElement('td');
        let celula4 = document.createElement('td');
        let celula5 = document.createElement('td');

        linha.appendChild(celula);
        linha.appendChild(celula2);
        linha.appendChild(celula3);
        linha.appendChild(celula4);
        linha.appendChild(celula5);


        
            celula.innerText = element
            celula2.innerText = freq
        


           /* document.getElementById('col').innerText=''
            let col1
            document.querySelector('#headVar').innerHTML = name  
            for (element of elements){ 
            col1 = document.createElement("tr")
            //col2 = document.createElement("tr")
            col1.innerText = element
           // col2.innerText = freq
            document.getElementById('col').appendChild(col1)
            //document.getElementById('col').appendChild(col2) }*/
                
           
                
            

            } 

      
        

   
        
        
            


    </script>
</body>
</html>